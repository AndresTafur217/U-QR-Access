<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Areas de la Universidad</title>
    <link rel="icon" href="./img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/css/areas.css">
</head>
<body>
    <div class="contenedor">
        <div class="areas">
                <div class="header">
                    <a href="./index.html" class="back-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free 
                        Copyright 2025 Fonticons, Inc.-->
                        <path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 
                        0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></a>
                    <h1>Areas</h1>
                </div>

                <div id="errorMensaje" style="color: red; text-align: center; margin: 10px 0; display: none;"></div>

                <div id="areasGrid" class="areas-grid">
                </div>

                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Cargando áreas disponibles...</p>
                </div>
            </div>

            <!-- Modal para escáner QR -->
            <div id="modalScanner" class="modal">
                <div class="modal-content">
                    <div class="scanear-qr">
                        <span onclick="cerrarScanner()"><svg class="icon-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                                <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free 
                                Copyright 2025 Fonticons, Inc.-->
                                <path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 
                                0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 
                                32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/>
                            </svg>
                        </span>

                        <h2>Escanear Código QR</h2>
                        <p class="scanner-info">Coloca tu código QR dentro del marco para validar el acceso</p>
                        
                        <div class="scanner-overlay">
                            <select id="cameraSelect">
                                <option value="">Selecciona una cámara</option>
                            </select>
                            <video id="video" autoplay playsinline muted></video>
                            <div class="scanner-frame"></div>
                        </div>
                        
                        <div class="scanning-indicator" id="scanningIndicator">
                            Buscando código QR...
                        </div>
                        
                        <div class="resultado" id="resultado"></div>
                        
                        <div id="cameraError" class="camera-error" style="display: none;">
                            <h3>❌ Error de Cámara</h3>
                            <p id="cameraErrorMessage"></p>
                        </div>
                        
                        <div>
                            <button class="btn-cerrar" onclick="cerrarScanner()">Cerrar Escáner</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="/js/areas.js"></script>
    <script src="https://unpkg.com/@zxing/library@0.20.0/umd/index.min.js"></script>
</body>
</html>